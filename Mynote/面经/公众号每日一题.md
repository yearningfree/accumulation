摘自微信公众号『 Golang来啦 』每天会发布一篇与 Go 相关的面试题系列
###Go 面试每天一篇
####1 Day
问：下面这段代码输出的内容。

	package main
	
	import "fmt"
	
	func main() {
		defer_call()
	}
	
	func defer_call() {
		defer func() { fmt.Println("打印前") }()
		defer func() { fmt.Println("打印中") }()
		defer func() { fmt.Println("打印后") }()
	
		panic("触发异常")
	}
	
输出：

	打印后
	打印中
	打印前
	panic:触发异常

参考解析：defer 的执行顺序是后进先出。当出现 panic 语句的时候，会先按照 defer 的后进先出的顺序执行，最后才会执行panic。

####2 Day
问：下面这段代码输出什么，说明原因。

	func main() {
		slice := []int{0, 1, 2, 3}
		m := make(map[int]*int)
	
		for key, val := range slice {
			m[key] = &val
		}
	
		for k, v := range m {
			fmt.Println(k, "->", *v)
		}
	}
	
输出：

	0 -> 3
	1 -> 3
	2 -> 3
	3 -> 3

参考解析：这是新手常会犯的错误写法，for range *循环的时候会创建每个元素的副本，而不是元素的引用*，所以 m[key] = &val 取的都是变量 val 的地址，所以最后 map 中的所有元素的值都是变量 val 的地址，因为最后 val 被赋值为3，所有输出都是3.

正确的写法：

	package main
	
	import "fmt"
	
	func main() {
		slice := []int{0, 1, 2, 3}
		m := make(map[int]*int)
	
		for key, val := range slice {
			value := val
			m[key] = &value
		}
	
		for k, v := range m {
			fmt.Println(k, "->", *v)
		}
	}

####3 Day
#####3.1
问：下面两段代码输出什么。

